<div class="min-h-screen bg-white mb-8">
  <!-- Page Title -->
  <div class="bg-white border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-6 py-6">
      <h1 class="text-3xl font-bold text-gray-900">Help</h1>
    </div>
  </div>

  <!-- Main Content Area -->
  <div class=" mx-auto px-6 ">
    <div class="flex flex-col lg:flex-row gap-8">
      <!-- Sidebar -->
      <aside class="w-full lg:w-72 flex-shrink-0 border border-gray-300  py-3 px-3 mb-6">
        <div class="bg-white lg:sticky lg:top-6 ">
          <h2 class="text-sm font-bold text-gray-900 mb-4 pb-2 border-b border-gray-300">
            Legal Policies and Notices
          </h2>
          <nav class="space-y-1">
            <a *ngFor="let link of sidebarLinks"
               [href]="link.url"
               [class]="link.active ? 
                 'block text-sm py-2 px-1 text-[#007185] font-semibold' : 
                 'block text-sm py-2 px-1 text-[#007185] hover:text-[#C7511F] hover:underline transition-colors'">
              {{ link.title }}
            </a>
          </nav>

          <!-- See All Help Topics -->
          <!-- <div class="mt-6 pt-4 border-t border-gray-300">
            <a [href]="getSeeAllHelpLink()" 
               class="flex items-center justify-between text-sm py-2 px-1 text-[#007185] hover:text-[#C7511F] hover:underline transition-colors">
              <span>See All Help topics</span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div> -->

          <!-- Search Help Section -->
          <div class="my-6 pt-6 border-t border-gray-300">
            <h3 class="text-sm font-semibold text-gray-900 mb-3">Search Help</h3>
            <div class="relative">
              <input 
                type="text"
                [(ngModel)]="searchQuery"
                (input)="onSearchChange()"
                placeholder="Search Help"
                class="w-full px-4 py-2.5 pr-10 border border-gray-300 rounded text-sm focus:outline-none focus:border-[#007185] focus:ring-1 focus:ring-[#007185] transition-all">
              <svg *ngIf="!searchQuery" 
                   class="absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none" 
                   fill="none" 
                   stroke="currentColor" 
                   viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
              </svg>
              <button *ngIf="searchQuery" 
                      (click)="clearSearch()" 
                      class="absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            
            <!-- Search Tips -->
            <div *ngIf="searchQuery && !showSearchResults" class="mt-2 text-xs text-gray-500">
              Searching for "{{ searchQuery }}"...
            </div>
          </div>

          <!-- Contact Us -->
          <div class="mt-6 pt-6 border-t border-gray-300">
            <a href="#" class="block text-sm py-2 px-1 text-gray-600 hover:text-[#007185] hover:underline transition-colors">
              Contact Us
            </a>
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 min-w-0">
        <div class="bg-white ">
          <!-- Search Results Banner -->
          <div *ngIf="showSearchResults" class="mb-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r">
            <div class="flex items-start justify-between">
              <div>
                <p class="text-sm font-semibold text-gray-900 mb-1">
                  Search Results
                </p>
                <p class="text-sm text-gray-700">
                  Found <strong>{{ filteredCountries.length }}</strong> result(s) for "<strong>{{ searchQuery }}</strong>"
                </p>
              </div>
              <button (click)="clearSearch()" 
                      class="ml-4 text-sm text-[#007185] hover:text-[#C7511F] hover:underline font-medium transition-colors">
                Clear
              </button>
            </div>
          </div>

          <h1 class="text-2xl font-bold text-gray-900 mb-6 px-3 pt-3">
            AMAZON PRIME VIDEO SERVICE PROVIDER INFORMATION AND APPLICABLE TERMS AND POLICIES
          </h1>
          
          <p class="text-sm text-gray-700 leading-relaxed mb-6 border-b border-gray-300 pb-2   px-3">
            Your Amazon Prime Video service provider, the terms applicable to your use of the Amazon Prime Video services, 
            and your primary website for the Amazon Prime Video service ("Video Marketplace") depend on your location, 
            as noted below. Your use of other Amazon services and, if applicable, Prime benefits are governed by separate 
            terms, which are available to you in the apps, websites or devices you use to access those services.
          </p>

          <!-- Country Quick Links -->
          <div class="mb-8" *ngIf="!showSearchResults">
            <ul class="grid grid-cols-1  gap-x-4 gap-y-2">
              <li *ngFor="let country of countries">
                <a (click)="scrollToCountry(country.id, $event)"
                   [href]="'#' + country.id"
                   class="text-[#007185] hover:text-[#C7511F] hover:underline text-sm cursor-pointer transition-colors inline-flex items-center">
                  <span class="mr-2">•</span>
                  <span>{{ country.name }}</span>
                </a>
              </li>
            </ul>
          </div>

          <!-- No Results Message -->
          <div *ngIf="showSearchResults && filteredCountries.length === 0" 
               class="py-12 text-center bg-gray-50 rounded-lg border border-gray-200">
            <svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <p class="text-lg font-medium text-gray-900 mb-2">No results found</p>
            <p class="text-gray-600 mb-4">We couldn't find any matches for "{{ searchQuery }}"</p>
            <button (click)="clearSearch()" 
                    class="px-4 py-2 bg-[#00A8E1] text-white rounded text-sm font-medium hover:bg-[#0095CC] transition-colors">
              Clear search and view all
            </button>
          </div>

          <!-- Country Sections -->
          <div *ngFor="let country of filteredCountries; let i = index">
            <div [id]="country.id" 
                 [class]="'border-t-2 border-gray-300 pt-8 mt-8 scroll-mt-6' + (showSearchResults ? ' bg-yellow-50 p-6 rounded-lg' : '')">
              <h2 class="text-2xl font-bold text-gray-900 mb-6">{{ country.name }}</h2>
              
              <!-- Primary Service Provider with condition -->
              <div class="mb-6" *ngIf="country.altProvider">
                <p class="text-sm text-gray-700 mb-3 font-semibold">
                  If Prime Video is accessed through an Amazon Prime membership or for purchases and rentals through Prime Video:
                </p>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                  <p class="text-sm text-gray-700 mb-2 font-semibold">
                    Service Provider and Contact Information:
                  </p>
                  <p class="text-sm text-gray-700 leading-relaxed">
                    {{ country.serviceProvider }}<br />
                    <span *ngFor="let line of country.address">{{ line }}<br /></span>
                  </p>
                  <p *ngIf="country.additionalInfo" class="text-xs text-gray-600 mt-2 italic">
                    {{ country.additionalInfo }}
                  </p>
                </div>
              </div>

              <!-- Alternative Provider -->
              <div class="mb-6" *ngIf="country.altProvider">
                <p class="text-sm text-gray-700 mb-3 font-semibold">
                  {{ country.altDescription }}:
                </p>
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                  <p class="text-sm text-gray-700 mb-2 font-semibold">
                    Service Provider and Contact Information:
                  </p>
                  <p class="text-sm text-gray-700 leading-relaxed">
                    {{ country.altProvider }}<br />
                    <span *ngFor="let line of country.altAddress">{{ line }}<br /></span>
                  </p>
                </div>
              </div>

              <!-- Single Provider (no alternative) -->
              <div class="mb-6" *ngIf="!country.altProvider">
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                  <p class="text-sm text-gray-700 mb-2 font-semibold">
                    Service Provider and Contact Information:
                  </p>
                  <p class="text-sm text-gray-700 leading-relaxed">
                    {{ country.serviceProvider }}<br />
                    <span *ngFor="let line of country.address">{{ line }}<br /></span>
                  </p>
                  <p *ngIf="country.additionalInfo" class="text-xs text-gray-600 mt-2 italic">
                    {{ country.additionalInfo }}
                  </p>
                </div>
              </div>

              <!-- Terms and Legal Notices -->
              <div class="mb-6">
                <p class="text-sm text-gray-700 mb-3 font-semibold">
                  Applicable Terms and Legal Notices:
                </p>
                <ul class="space-y-2 text-sm">
                  <li *ngFor="let term of country.terms" class="flex items-start">
                    <span class="mr-2 text-gray-400">•</span>
                    <a href="#" class="text-[#007185] hover:text-[#C7511F] hover:underline transition-colors">
                      {{ term }}
                    </a>
                  </li>
                </ul>
              </div>

              <!-- Video Marketplace -->
              <div>
                <p class="text-sm text-gray-700 mb-2 font-semibold">
                  Video Marketplace:
                </p>
                <a [href]="'https://' + country.marketplace.split(' ')[0]" 
                   class="text-[#007185] hover:text-[#C7511F] hover:underline text-sm transition-colors"
                   target="_blank"
                   rel="noopener noreferrer">
                  {{ country.marketplace }}
                </a>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
</div>